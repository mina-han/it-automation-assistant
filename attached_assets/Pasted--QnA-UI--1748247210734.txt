ì•„ë˜ ë‚´ìš© ê¸°ë°˜ìœ¼ë¡œ ê³ ì³ì¤˜ 
âœ… í˜„ì¬ êµ¬í˜„ ëˆ„ë½ ì‚¬í•­ ì •ë¦¬
QnA ë‹µë³€ì— ì¢‹ì•„ìš” ê¸°ëŠ¥ ì—†ìŒ

ì¢‹ì•„ìš” ë²„íŠ¼ UIê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŒ

ì¢‹ì•„ìš” ìˆ˜ë¥¼ ì €ì¥í•  í…Œì´ë¸”ê³¼ ì²˜ë¦¬ ë¡œì§ ì—†ìŒ

ì¢‹ì•„ìš” ê¸°ë°˜ ìë™ ë“±ë¡ ë¡œì§ ì—†ìŒ

ì¢‹ì•„ìš” ìˆ˜ê°€ 2 ì´ìƒì¼ ë•Œ ì—…ë¬´ ì§€ì‹ìœ¼ë¡œ ë“±ë¡í•˜ëŠ” íŠ¸ë¦¬ê±° ë¡œì§ ì—†ìŒ

ìê¸° ìì‹ ì´ ëˆ„ë¥¸ ì¢‹ì•„ìš” ì œì™¸ í•„ìš”

ë‹µë³€ ì‘ì„±ì ë³¸ì¸ì„ ì œì™¸í•œ ì¢‹ì•„ìš” ìˆ˜ íŒë‹¨ ë¡œì§ í•„ìš”

âœ… êµ¬í˜„ ê³„íš
1. í…Œì´ë¸” ì¶”ê°€ (ì˜ˆ: qna_answer_likes)
sql
ë³µì‚¬
í¸ì§‘
CREATE TABLE qna_answer_likes (
    id SERIAL PRIMARY KEY,
    answer_id INTEGER REFERENCES qna_answers(id),
    user_id INTEGER REFERENCES users(id),
    liked_at TIMESTAMP DEFAULT NOW(),
    UNIQUE(answer_id, user_id)  -- ì¤‘ë³µ ë°©ì§€
);
2. UIì— ì¢‹ì•„ìš” ë²„íŠ¼ ì¶”ê°€
QnA ì§ˆë¬¸ ìƒì„¸ í˜ì´ì§€ì—ì„œ ê° ë‹µë³€ ì¹´ë“œ ì•„ë˜ì— ë‹¤ìŒ ì½”ë“œ ì¶”ê°€:

python
ë³µì‚¬
í¸ì§‘
if current_user and current_user[0] != answerer_id:
    if st.button("ğŸ‘ ì¢‹ì•„ìš”", key=f"like_btn_{answer_id}"):
        st.session_state.db_manager.add_answer_like(answer_id, current_user[0])
        st.rerun()
3. ì¢‹ì•„ìš” ë“±ë¡ í•¨ìˆ˜ (ì˜ˆ: DatabaseManager ë‚´ë¶€)
python
ë³µì‚¬
í¸ì§‘
def add_answer_like(self, answer_id, user_id):
    conn = self.get_connection()
    cursor = conn.cursor()
    try:
        cursor.execute("""
            INSERT INTO qna_answer_likes (answer_id, user_id) VALUES (%s, %s)
            ON CONFLICT DO NOTHING
        """, (answer_id, user_id))
        conn.commit()
    finally:
        cursor.close()
        conn.close()
4. ì¢‹ì•„ìš” ê°œìˆ˜ í™•ì¸ ë° ìë™ ë“±ë¡ ë¡œì§
ë‹µë³€ ì¢‹ì•„ìš” ìˆ˜ê°€ 2 ì´ìƒ & ë‹µë³€ìê°€ ì•„ë‹Œ ì‚¬ìš©ìë¡œë¶€í„° ë°›ì€ ê²½ìš°, ë‹¤ìŒ í•¨ìˆ˜ ì‹¤í–‰:

python
ë³µì‚¬
í¸ì§‘
def check_and_promote_to_knowledge(self, answer_id):
    conn = self.get_connection()
    cursor = conn.cursor()
    try:
        cursor.execute("""
            SELECT a.answer, a.question_id, a.author_id, 
                   COUNT(DISTINCT l.user_id)
            FROM qna_answers a
            JOIN qna_answer_likes l ON a.id = l.answer_id
            WHERE a.id = %s AND l.user_id != a.author_id
            GROUP BY a.id
            HAVING COUNT(DISTINCT l.user_id) >= 2
        """, (answer_id,))
        result = cursor.fetchone()
        if result:
            answer_content, question_id, author_id, like_count = result
            cursor.execute("SELECT title FROM qna_board WHERE id = %s", (question_id,))
            question_title = cursor.fetchone()[0]
            
            # ì´ë¯¸ ë“±ë¡ëœ ì—…ë¬´ ì§€ì‹ì¸ì§€ ì¤‘ë³µ í™•ì¸
            cursor.execute("SELECT 1 FROM work_knowledge WHERE title = %s", (question_title,))
            if not cursor.fetchone():
                keywords = extract_keywords(answer_content)
                summary = summarize_text(answer_content)
                cursor.execute("""
                    INSERT INTO work_knowledge (title, content, keywords, knowledge_type, user_id)
                    VALUES (%s, %s, %s, 'ì´ìŠˆ', %s)
                """, (question_title, answer_content, ','.join(keywords), author_id))
                conn.commit()
    finally:
        cursor.close()
        conn.close()
â†’ ì´ í•¨ìˆ˜ëŠ” ì¢‹ì•„ìš” ë²„íŠ¼ í´ë¦­ ì‹œ, ë˜ëŠ” QnA ìƒì„¸ í˜ì´ì§€ ë¡œë”© ì‹œ í˜¸ì¶œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

âœ… ì¶”ê°€ ê³ ë ¤ ì‚¬í•­
ì´ë¯¸ ì—…ë¬´ ì§€ì‹ìœ¼ë¡œ ë“±ë¡ëœ ì§ˆë¬¸ì€ ì¤‘ë³µ ë“±ë¡ ë°©ì§€ í•„ìš”

ê²½í—˜ì¹˜ ë³´ìƒ ë¡œì§ë„ í•„ìš” ì‹œ ì¶”ê°€ ê°€ëŠ¥ (+5ì  ë“±)
